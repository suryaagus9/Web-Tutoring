{"ast":null,"code":"var _jsxFileName = \"D:\\\\Web Lanjutan\\\\Web Tutoring Project\\\\frontend\\\\src\\\\components\\\\Login.js\";\nimport React, { useState } from 'react';\nimport axios from 'axios';\nimport { useNavigate } from 'react-router-dom';\nimport './style/Login.css';\nconst Login = () => {\n  const [username, setUsername] = useState('');\n  const [password, setPassword] = useState('');\n  const [message, setMessage] = useState('');\n  const navigate = useNavigate();\n  const handleSubmit = async event => {\n    event.preventDefault();\n    try {\n      const response = await axios.post('http://localhost:5000/api/login', {\n        username,\n        password,\n        d\n      });\n      const {\n        access_token,\n        user_type,\n        tutor_id,\n        student_id\n      } = response.data;\n      setMessage('Login successful!');\n      localStorage.setItem(\"access_token\", access_token);\n      if (tutor_id) {\n        localStorage.setItem(\"tutor_id\", tutor_id);\n      }\n      if (student_id) {\n        localStorage.setItem(\"student_id\", student_id);\n      }\n      localStorage.setItem(\"current_user\", JSON.stringify({\n        username,\n        user_type\n      }));\n      if (user_type === \"student\") {\n        navigate(\"/home\");\n      } else if (user_type === \"tutor\") {\n        navigate(\"/tutorhome\");\n      } else if (user_type === \"admin\") {\n        navigate(\"/adminhome\");\n      }\n    } catch (error) {\n      setMessage(\"Login failed. Please check your username and password.\");\n    }\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }\n  }, \"Login\"), /*#__PURE__*/React.createElement(\"form\", {\n    id: \"login-form\",\n    onSubmit: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"input-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"username\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 11\n    }\n  }, \"Username:\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    id: \"username\",\n    name: \"username\",\n    value: username,\n    onChange: e => setUsername(e.target.value),\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"input-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"password\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 11\n    }\n  }, \"Password:\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"password\",\n    id: \"password\",\n    name: \"password\",\n    value: password,\n    onChange: e => setPassword(e.target.value),\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    className: \"btnContinue\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 9\n    }\n  }, \"Login\"), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    className: \"btnRegister\",\n    onClick: () => navigate('/register'),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 9\n    }\n  }, \"Register\")), message && /*#__PURE__*/React.createElement(\"p\", {\n    className: \"message\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 19\n    }\n  }, message));\n};\nexport default Login;","map":{"version":3,"names":["React","useState","axios","useNavigate","Login","username","setUsername","password","setPassword","message","setMessage","navigate","handleSubmit","event","preventDefault","response","post","d","access_token","user_type","tutor_id","student_id","data","localStorage","setItem","JSON","stringify","error","createElement","className","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","id","onSubmit","htmlFor","type","name","value","onChange","e","target","required","onClick"],"sources":["D:/Web Lanjutan/Web Tutoring Project/frontend/src/components/Login.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport axios from 'axios';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport './style/Login.css';\r\n\r\nconst Login = () => {\r\n  const [username, setUsername] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const [message, setMessage] = useState('');\r\n  const navigate = useNavigate();\r\n\r\n  const handleSubmit = async (event) => {\r\n    event.preventDefault();\r\n    try {\r\n      const response = await axios.post('http://localhost:5000/api/login', {\r\n        username,\r\n        password,d\r\n      });\r\n      const { access_token, user_type, tutor_id, student_id } = response.data;\r\n      setMessage('Login successful!');\r\n\r\n      localStorage.setItem(\"access_token\", access_token);\r\n\r\n      if (tutor_id) {\r\n        localStorage.setItem(\"tutor_id\", tutor_id);\r\n      }\r\n\r\n      if (student_id) {\r\n        localStorage.setItem(\"student_id\", student_id);\r\n      }\r\n\r\n      localStorage.setItem(\"current_user\", JSON.stringify({ username, user_type }));\r\n\r\n      if (user_type === \"student\") {\r\n        navigate(\"/home\");\r\n      } else if (user_type === \"tutor\") {\r\n        navigate(\"/tutorhome\");\r\n      } else if (user_type === \"admin\") {\r\n        navigate(\"/adminhome\");\r\n      }\r\n    } catch (error) {\r\n      setMessage(\"Login failed. Please check your username and password.\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      <h2>Login</h2>\r\n      <form id=\"login-form\" onSubmit={handleSubmit}>\r\n        <div className=\"input-group\">\r\n          <label htmlFor=\"username\">Username:</label>\r\n          <input type=\"text\" id=\"username\" name=\"username\" value={username} onChange={(e) => setUsername(e.target.value)} required />\r\n        </div>\r\n        <div className=\"input-group\">\r\n          <label htmlFor=\"password\">Password:</label>\r\n          <input type=\"password\" id=\"password\" name=\"password\" value={password} onChange={(e) => setPassword(e.target.value)} required />\r\n        </div>\r\n        <button type=\"submit\" className=\"btnContinue\">Login</button>\r\n        <button type=\"button\" className=\"btnRegister\" onClick={() => navigate('/register')}>Register</button>\r\n      </form>\r\n      {message && <p className=\"message\">{message}</p>}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}