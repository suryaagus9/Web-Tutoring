{"ast":null,"code":"var _jsxFileName = \"D:\\\\Web Lanjutan\\\\Web Tutoring Project\\\\frontend\\\\src\\\\components\\\\Tutor\\\\ProfileTutor.js\";\nimport React, { useEffect, useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport '../style/ProfileTutor.css';\nimport Navbar from \"../Tutor/NavTutor\";\n// import { getAllClasses } from '../../services/classService';\n// import { getTutorProfile } from '../../services/tutorService';  // Ensure this import exists\n// import { Row } from 'react-bootstrap';\n\nconst ProfileTutor = () => {\n  const navigate = useNavigate();\n  const [profile, setProfile] = useState(null);\n  const [hasProfile, setHasProfile] = useState(false);\n  const getRandomImageUrl = id => `https://picsum.photos/seed/${id}/200/300`;\n  // const [classes, setClasses] = useState([]);\n\n  const fetchProfile = async () => {\n    try {\n      const response = await fetch('http://localhost:5000/tutor/profile', {\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${localStorage.getItem('access_token')}`\n        }\n      });\n      if (response.ok) {\n        const data = await response.json();\n        setProfile(data);\n        setHasProfile(true);\n      } else if (response.status === 404) {\n        setHasProfile(false);\n      } else {\n        throw new Error('Failed to fetch profile');\n      }\n    } catch (error) {\n      console.error('Error fetching profile:', error);\n      if (error.response && error.response.status === 401) {\n        navigate('/');\n      }\n    }\n  };\n  useEffect(() => {\n    if (hasProfile) {\n      fetchProfile();\n    }\n  }, [hasProfile]);\n  if (!hasProfile) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Navbar, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"profile\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 13\n      }\n    }, \"Tutor Profile\"), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 13\n      }\n    }, \"You have not created a profile yet.\"), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"create-class\",\n      onClick: () => navigate('/tutorprofile/createprofile'),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 13\n      }\n    }, \"Create Profile\"))));\n  }\n  if (!profile) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 12\n      }\n    }, \"Loading...\");\n  }\n  const handleCreateProfile = () => {\n    navigate('/tutorprofile/createprofile');\n  };\n  const handleEditProfile = () => {\n    navigate(`/tutorprofile/editprofile/${profile.tutor_id}`);\n  };\n  const handleCreateClass = () => {\n    navigate('/tutorprofile/createclass');\n  };\n  const handleEditClass = class_id => {\n    navigate(`/tutorprofile/editclass/${class_id}`);\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Navbar, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"profile\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 11\n    }\n  }, \"Tutor Profile\"), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 11\n    }\n  }, \"Tutor Phone: \", profile.tutor_phone), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 11\n    }\n  }, \"Tutor Description: \", profile.tutor_description), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 11\n    }\n  }, \"Experience: \", profile.experience), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"create-class\",\n    onClick: handleCreateProfile,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 11\n    }\n  }, \"Edit Profile\"), /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 11\n    }\n  }, \"My Classes\"), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"create-class\",\n    onClick: handleCreateClass,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 11\n    }\n  }, \"CREATE CLASS\"))));\n};\nexport default ProfileTutor;","map":{"version":3,"names":["React","useEffect","useState","useNavigate","Navbar","ProfileTutor","navigate","profile","setProfile","hasProfile","setHasProfile","getRandomImageUrl","id","fetchProfile","response","fetch","headers","localStorage","getItem","ok","data","json","status","Error","error","console","createElement","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","className","onClick","handleCreateProfile","handleEditProfile","tutor_id","handleCreateClass","handleEditClass","class_id","tutor_phone","tutor_description","experience"],"sources":["D:/Web Lanjutan/Web Tutoring Project/frontend/src/components/Tutor/ProfileTutor.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport '../style/ProfileTutor.css';\r\nimport Navbar from \"../Tutor/NavTutor\";\r\n// import { getAllClasses } from '../../services/classService';\r\n// import { getTutorProfile } from '../../services/tutorService';  // Ensure this import exists\r\n// import { Row } from 'react-bootstrap';\r\n\r\nconst ProfileTutor = () => {\r\n  const navigate = useNavigate();\r\n  const [profile, setProfile] = useState(null);\r\n  const [hasProfile, setHasProfile] = useState(false);\r\n  const getRandomImageUrl = (id) => `https://picsum.photos/seed/${id}/200/300`;\r\n  // const [classes, setClasses] = useState([]);\r\n  \r\n  const fetchProfile = async () => {\r\n    try {\r\n      const response = await fetch('http://localhost:5000/tutor/profile', {\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          'Authorization': `Bearer ${localStorage.getItem('access_token')}`\r\n        }\r\n      });\r\n\r\n      if (response.ok) {\r\n        const data = await response.json();\r\n        setProfile(data);\r\n        setHasProfile(true);\r\n      } else if (response.status === 404) {\r\n        setHasProfile(false);\r\n      } else {\r\n        throw new Error('Failed to fetch profile');\r\n      }\r\n    } catch (error) {\r\n      console.error('Error fetching profile:', error);\r\n      if (error.response && error.response.status === 401) {\r\n        navigate('/');\r\n      }\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (hasProfile) {\r\n      fetchProfile();\r\n    }\r\n  }, [hasProfile]);\r\n\r\n\r\n  if (!hasProfile) {\r\n    return (\r\n      <div>\r\n        <Navbar />\r\n        <div className='container'>\r\n          <div className='profile'>\r\n            <h1>Tutor Profile</h1>\r\n            <p>You have not created a profile yet.</p>\r\n            <button className=\"create-class\" onClick={() => navigate('/tutorprofile/createprofile')}>Create Profile</button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (!profile) {\r\n    return <div>Loading...</div>;\r\n  }\r\n\r\n  const handleCreateProfile = () => {\r\n    navigate('/tutorprofile/createprofile');\r\n  };\r\n\r\n  const handleEditProfile = () => {\r\n    navigate(`/tutorprofile/editprofile/${profile.tutor_id}`);\r\n  };\r\n\r\n  const handleCreateClass = () => {\r\n    navigate('/tutorprofile/createclass');\r\n  };\r\n\r\n  const handleEditClass = (class_id) => {\r\n    navigate(`/tutorprofile/editclass/${class_id}`);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <Navbar/>\r\n      <div className='container'>\r\n        <div className='profile'>\r\n          <h1>Tutor Profile</h1>\r\n          <p>Tutor Phone: {profile.tutor_phone}</p>\r\n          <p>Tutor Description: {profile.tutor_description}</p>\r\n          <p>Experience: {profile.experience}</p>\r\n          <button className=\"create-class\" onClick={handleCreateProfile}>Edit Profile</button>\r\n          \r\n          <h3>My Classes</h3>\r\n          {/* <Row>\r\n            <div className=\"content\">\r\n              {classes.map((classItem) => (\r\n                <div key={classItem.class_id} className=\"profile-card\">\r\n                  <div className=\"card-image\">\r\n                    <img src={getRandomImageUrl(classItem.class_id)} alt={classItem.title} />\r\n                  </div>\r\n                  <p className=\"category\">{classItem.class_type}</p>\r\n                  <h4>{classItem.title}</h4>\r\n                  <p className=\"desc\">{classItem.description}</p>\r\n                  <button className=\"edit-button\" onClick={() => handleEditClass(classItem.class_id)}>Edit Kelas</button>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          </Row> */}\r\n          <button className=\"create-class\" onClick={handleCreateClass}>CREATE CLASS</button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ProfileTutor;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}