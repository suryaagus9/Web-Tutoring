{"ast":null,"code":"// userService.js\nimport axios from 'axios';\nconst API_URL = 'http://localhost:5000';\nexport const getUsers = async () => {\n  const response = await fetch('http://localhost:5000/users', {\n    headers: {\n      'Content-Type': 'application/json',\n      'Authorization': `Bearer ${localStorage.getItem('access_token')}`\n    }\n  });\n  if (response.ok) {\n    return await response.json();\n  } else {\n    throw new Error('Failed to fetch users');\n  }\n};\nexport const getUserById = async user_id => {\n  const response = await fetch(`http://localhost:5000/users/${user_id}`, {\n    headers: {\n      'Content-Type': 'application/json',\n      'Authorization': `Bearer ${localStorage.getItem('access_token')}`\n    }\n  });\n  if (response.ok) {\n    return await response.json();\n  } else {\n    throw new Error('Failed to fetch user');\n  }\n};\nexport const updateUser = async (user_id, data) => {\n  const response = await fetch(`http://localhost:5000/users/${user_id}`, {\n    method: 'PUT',\n    headers: {\n      'Content-Type': 'application/json',\n      'Authorization': `Bearer ${localStorage.getItem('access_token')}`\n    },\n    body: JSON.stringify(data)\n  });\n  if (response.ok) {\n    return await response.json();\n  } else {\n    throw new Error('Failed to update user');\n  }\n};\nexport const deleteUser = async user_id => {\n  try {\n    const response = await axios.delete(`${API_URL}/users/${user_id}`, {\n      method: \"DELETE\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: `Bearer ${localStorage.getItem(\"access_token\")}`\n      }\n    });\n    if (response.status === 200) {\n      return response.data;\n    } else {\n      throw new Error(response.data.message || 'Failed to delete user');\n    }\n  } catch (error) {\n    console.error('Error in deleteUser:', error.response ? error.response.data : error.message);\n    throw error.response ? error.response.data : error;\n  }\n};","map":{"version":3,"names":["axios","API_URL","getUsers","response","fetch","headers","localStorage","getItem","ok","json","Error","getUserById","user_id","updateUser","data","method","body","JSON","stringify","deleteUser","delete","Authorization","status","message","error","console"],"sources":["D:/Web Lanjutan/Web Tutoring Project/frontend/src/services/userService.js"],"sourcesContent":["// userService.js\r\nimport axios from 'axios';\r\n\r\nconst API_URL = 'http://localhost:5000';\r\n\r\nexport const getUsers = async () => {\r\n  const response = await fetch('http://localhost:5000/users', {\r\n      headers: {\r\n          'Content-Type': 'application/json',\r\n          'Authorization': `Bearer ${localStorage.getItem('access_token')}`\r\n      }\r\n  });\r\n\r\n  if (response.ok) {\r\n      return await response.json();\r\n  } else {\r\n      throw new Error('Failed to fetch users');\r\n  }\r\n};\r\n\r\nexport const getUserById = async (user_id) => {\r\n  const response = await fetch(`http://localhost:5000/users/${user_id}`, {\r\n      headers: {\r\n          'Content-Type': 'application/json',\r\n          'Authorization': `Bearer ${localStorage.getItem('access_token')}`\r\n      }\r\n  });\r\n\r\n  if (response.ok) {\r\n      return await response.json();\r\n  } else {\r\n      throw new Error('Failed to fetch user');\r\n  }\r\n};\r\n\r\nexport const updateUser = async (user_id, data) => {\r\n  const response = await fetch(`http://localhost:5000/users/${user_id}`, {\r\n      method: 'PUT',\r\n      headers: {\r\n          'Content-Type': 'application/json',\r\n          'Authorization': `Bearer ${localStorage.getItem('access_token')}`,\r\n      },\r\n      body: JSON.stringify(data),\r\n  });\r\n\r\n  if (response.ok) {\r\n      return await response.json();\r\n  } else {\r\n      throw new Error('Failed to update user');\r\n  }\r\n};\r\n\r\nexport const deleteUser = async (user_id) => {\r\n  try {\r\n      const response = await axios.delete(`${API_URL}/users/${user_id}`, {\r\n        method : \"DELETE\",\r\n        headers: {\r\n            \"Content-Type\": \"application/json\",\r\n            Authorization: `Bearer ${localStorage.getItem(\"access_token\")}`\r\n        }\r\n      });\r\n      if (response.status === 200) {\r\n          return response.data;\r\n      } else {\r\n          throw new Error(response.data.message || 'Failed to delete user');\r\n      }\r\n  } catch (error) {\r\n      console.error('Error in deleteUser:', error.response ? error.response.data : error.message);\r\n      throw error.response ? error.response.data : error;\r\n  }\r\n};\r\n\r\n"],"mappings":"AAAA;AACA,OAAOA,KAAK,MAAM,OAAO;AAEzB,MAAMC,OAAO,GAAG,uBAAuB;AAEvC,OAAO,MAAMC,QAAQ,GAAG,MAAAA,CAAA,KAAY;EAClC,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAC,6BAA6B,EAAE;IACxDC,OAAO,EAAE;MACL,cAAc,EAAE,kBAAkB;MAClC,eAAe,EAAE,UAAUC,YAAY,CAACC,OAAO,CAAC,cAAc,CAAC;IACnE;EACJ,CAAC,CAAC;EAEF,IAAIJ,QAAQ,CAACK,EAAE,EAAE;IACb,OAAO,MAAML,QAAQ,CAACM,IAAI,CAAC,CAAC;EAChC,CAAC,MAAM;IACH,MAAM,IAAIC,KAAK,CAAC,uBAAuB,CAAC;EAC5C;AACF,CAAC;AAED,OAAO,MAAMC,WAAW,GAAG,MAAOC,OAAO,IAAK;EAC5C,MAAMT,QAAQ,GAAG,MAAMC,KAAK,CAAC,+BAA+BQ,OAAO,EAAE,EAAE;IACnEP,OAAO,EAAE;MACL,cAAc,EAAE,kBAAkB;MAClC,eAAe,EAAE,UAAUC,YAAY,CAACC,OAAO,CAAC,cAAc,CAAC;IACnE;EACJ,CAAC,CAAC;EAEF,IAAIJ,QAAQ,CAACK,EAAE,EAAE;IACb,OAAO,MAAML,QAAQ,CAACM,IAAI,CAAC,CAAC;EAChC,CAAC,MAAM;IACH,MAAM,IAAIC,KAAK,CAAC,sBAAsB,CAAC;EAC3C;AACF,CAAC;AAED,OAAO,MAAMG,UAAU,GAAG,MAAAA,CAAOD,OAAO,EAAEE,IAAI,KAAK;EACjD,MAAMX,QAAQ,GAAG,MAAMC,KAAK,CAAC,+BAA+BQ,OAAO,EAAE,EAAE;IACnEG,MAAM,EAAE,KAAK;IACbV,OAAO,EAAE;MACL,cAAc,EAAE,kBAAkB;MAClC,eAAe,EAAE,UAAUC,YAAY,CAACC,OAAO,CAAC,cAAc,CAAC;IACnE,CAAC;IACDS,IAAI,EAAEC,IAAI,CAACC,SAAS,CAACJ,IAAI;EAC7B,CAAC,CAAC;EAEF,IAAIX,QAAQ,CAACK,EAAE,EAAE;IACb,OAAO,MAAML,QAAQ,CAACM,IAAI,CAAC,CAAC;EAChC,CAAC,MAAM;IACH,MAAM,IAAIC,KAAK,CAAC,uBAAuB,CAAC;EAC5C;AACF,CAAC;AAED,OAAO,MAAMS,UAAU,GAAG,MAAOP,OAAO,IAAK;EAC3C,IAAI;IACA,MAAMT,QAAQ,GAAG,MAAMH,KAAK,CAACoB,MAAM,CAAC,GAAGnB,OAAO,UAAUW,OAAO,EAAE,EAAE;MACjEG,MAAM,EAAG,QAAQ;MACjBV,OAAO,EAAE;QACL,cAAc,EAAE,kBAAkB;QAClCgB,aAAa,EAAE,UAAUf,YAAY,CAACC,OAAO,CAAC,cAAc,CAAC;MACjE;IACF,CAAC,CAAC;IACF,IAAIJ,QAAQ,CAACmB,MAAM,KAAK,GAAG,EAAE;MACzB,OAAOnB,QAAQ,CAACW,IAAI;IACxB,CAAC,MAAM;MACH,MAAM,IAAIJ,KAAK,CAACP,QAAQ,CAACW,IAAI,CAACS,OAAO,IAAI,uBAAuB,CAAC;IACrE;EACJ,CAAC,CAAC,OAAOC,KAAK,EAAE;IACZC,OAAO,CAACD,KAAK,CAAC,sBAAsB,EAAEA,KAAK,CAACrB,QAAQ,GAAGqB,KAAK,CAACrB,QAAQ,CAACW,IAAI,GAAGU,KAAK,CAACD,OAAO,CAAC;IAC3F,MAAMC,KAAK,CAACrB,QAAQ,GAAGqB,KAAK,CAACrB,QAAQ,CAACW,IAAI,GAAGU,KAAK;EACtD;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module"}