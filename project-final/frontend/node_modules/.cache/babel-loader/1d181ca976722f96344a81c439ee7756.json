{"ast":null,"code":"import axios from \"axios\";\nconst API_URL = \"http://localhost:5000\";\nexport const getUsers = async () => {\n  const response = await fetch(\"http://localhost:5000/users\", {\n    headers: {\n      \"Content-Type\": \"application/json\",\n      Authorization: `Bearer ${localStorage.getItem(\"access_token\")}`\n    }\n  });\n  if (response.ok) {\n    return await response.json();\n  } else {\n    throw new Error(\"Failed to fetch users\");\n  }\n};\nexport const getUserById = async user_id => {\n  const response = await fetch(`http://localhost:5000/users/${user_id}`, {\n    headers: {\n      \"Content-Type\": \"application/json\",\n      Authorization: `Bearer ${localStorage.getItem(\"access_token\")}`\n    }\n  });\n  if (response.ok) {\n    return await response.json();\n  } else {\n    throw new Error(\"Failed to fetch user\");\n  }\n};\nexport const updateUser = async (user_id, data) => {\n  const response = await fetch(`http://localhost:5000/users/${user_id}`, {\n    method: \"PUT\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n      Authorization: `Bearer ${localStorage.getItem(\"access_token\")}`\n    },\n    body: JSON.stringify(data)\n  });\n  if (response.ok) {\n    return await response.json();\n  } else {\n    throw new Error(\"Failed to update user\");\n  }\n};\nexport const deleteUser = async user_id => {\n  try {\n    const response = await axios.delete(`${API_URL}/users/${user_id}`, {\n      method: \"DELETE\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: `Bearer ${localStorage.getItem(\"access_token\")}`\n      }\n    });\n    if (response.status === 200) {\n      return response.data;\n    } else {\n      throw new Error(response.data.message || \"Failed to delete user\");\n    }\n  } catch (error) {\n    console.error(\"Error in deleteUser:\", error.response ? error.response.data : error.message);\n    throw error.response ? error.response.data : error;\n  }\n};","map":{"version":3,"names":["axios","API_URL","getUsers","response","fetch","headers","Authorization","localStorage","getItem","ok","json","Error","getUserById","user_id","updateUser","data","method","body","JSON","stringify","deleteUser","delete","status","message","error","console"],"sources":["D:/Web Lanjutan/Web Tutoring Project/frontend/src/services/userService.js"],"sourcesContent":["import axios from \"axios\";\r\n\r\nconst API_URL = \"http://localhost:5000\";\r\n\r\nexport const getUsers = async () => {\r\n  const response = await fetch(\"http://localhost:5000/users\", {\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n      Authorization: `Bearer ${localStorage.getItem(\"access_token\")}`,\r\n    },\r\n  });\r\n\r\n  if (response.ok) {\r\n    return await response.json();\r\n  } else {\r\n    throw new Error(\"Failed to fetch users\");\r\n  }\r\n};\r\n\r\nexport const getUserById = async (user_id) => {\r\n  const response = await fetch(`http://localhost:5000/users/${user_id}`, {\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n      Authorization: `Bearer ${localStorage.getItem(\"access_token\")}`,\r\n    },\r\n  });\r\n\r\n  if (response.ok) {\r\n    return await response.json();\r\n  } else {\r\n    throw new Error(\"Failed to fetch user\");\r\n  }\r\n};\r\n\r\nexport const updateUser = async (user_id, data) => {\r\n  const response = await fetch(`http://localhost:5000/users/${user_id}`, {\r\n    method: \"PUT\",\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n      Authorization: `Bearer ${localStorage.getItem(\"access_token\")}`,\r\n    },\r\n    body: JSON.stringify(data),\r\n  });\r\n\r\n  if (response.ok) {\r\n    return await response.json();\r\n  } else {\r\n    throw new Error(\"Failed to update user\");\r\n  }\r\n};\r\n\r\nexport const deleteUser = async (user_id) => {\r\n  try {\r\n    const response = await axios.delete(`${API_URL}/users/${user_id}`, {\r\n      method: \"DELETE\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: `Bearer ${localStorage.getItem(\"access_token\")}`,\r\n      },\r\n    });\r\n    if (response.status === 200) {\r\n      return response.data;\r\n    } else {\r\n      throw new Error(response.data.message || \"Failed to delete user\");\r\n    }\r\n  } catch (error) {\r\n    console.error(\r\n      \"Error in deleteUser:\",\r\n      error.response ? error.response.data : error.message\r\n    );\r\n    throw error.response ? error.response.data : error;\r\n  }\r\n};\r\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AAEzB,MAAMC,OAAO,GAAG,uBAAuB;AAEvC,OAAO,MAAMC,QAAQ,GAAG,MAAAA,CAAA,KAAY;EAClC,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAC,6BAA6B,EAAE;IAC1DC,OAAO,EAAE;MACP,cAAc,EAAE,kBAAkB;MAClCC,aAAa,EAAE,UAAUC,YAAY,CAACC,OAAO,CAAC,cAAc,CAAC;IAC/D;EACF,CAAC,CAAC;EAEF,IAAIL,QAAQ,CAACM,EAAE,EAAE;IACf,OAAO,MAAMN,QAAQ,CAACO,IAAI,CAAC,CAAC;EAC9B,CAAC,MAAM;IACL,MAAM,IAAIC,KAAK,CAAC,uBAAuB,CAAC;EAC1C;AACF,CAAC;AAED,OAAO,MAAMC,WAAW,GAAG,MAAOC,OAAO,IAAK;EAC5C,MAAMV,QAAQ,GAAG,MAAMC,KAAK,CAAC,+BAA+BS,OAAO,EAAE,EAAE;IACrER,OAAO,EAAE;MACP,cAAc,EAAE,kBAAkB;MAClCC,aAAa,EAAE,UAAUC,YAAY,CAACC,OAAO,CAAC,cAAc,CAAC;IAC/D;EACF,CAAC,CAAC;EAEF,IAAIL,QAAQ,CAACM,EAAE,EAAE;IACf,OAAO,MAAMN,QAAQ,CAACO,IAAI,CAAC,CAAC;EAC9B,CAAC,MAAM;IACL,MAAM,IAAIC,KAAK,CAAC,sBAAsB,CAAC;EACzC;AACF,CAAC;AAED,OAAO,MAAMG,UAAU,GAAG,MAAAA,CAAOD,OAAO,EAAEE,IAAI,KAAK;EACjD,MAAMZ,QAAQ,GAAG,MAAMC,KAAK,CAAC,+BAA+BS,OAAO,EAAE,EAAE;IACrEG,MAAM,EAAE,KAAK;IACbX,OAAO,EAAE;MACP,cAAc,EAAE,kBAAkB;MAClCC,aAAa,EAAE,UAAUC,YAAY,CAACC,OAAO,CAAC,cAAc,CAAC;IAC/D,CAAC;IACDS,IAAI,EAAEC,IAAI,CAACC,SAAS,CAACJ,IAAI;EAC3B,CAAC,CAAC;EAEF,IAAIZ,QAAQ,CAACM,EAAE,EAAE;IACf,OAAO,MAAMN,QAAQ,CAACO,IAAI,CAAC,CAAC;EAC9B,CAAC,MAAM;IACL,MAAM,IAAIC,KAAK,CAAC,uBAAuB,CAAC;EAC1C;AACF,CAAC;AAED,OAAO,MAAMS,UAAU,GAAG,MAAOP,OAAO,IAAK;EAC3C,IAAI;IACF,MAAMV,QAAQ,GAAG,MAAMH,KAAK,CAACqB,MAAM,CAAC,GAAGpB,OAAO,UAAUY,OAAO,EAAE,EAAE;MACjEG,MAAM,EAAE,QAAQ;MAChBX,OAAO,EAAE;QACP,cAAc,EAAE,kBAAkB;QAClCC,aAAa,EAAE,UAAUC,YAAY,CAACC,OAAO,CAAC,cAAc,CAAC;MAC/D;IACF,CAAC,CAAC;IACF,IAAIL,QAAQ,CAACmB,MAAM,KAAK,GAAG,EAAE;MAC3B,OAAOnB,QAAQ,CAACY,IAAI;IACtB,CAAC,MAAM;MACL,MAAM,IAAIJ,KAAK,CAACR,QAAQ,CAACY,IAAI,CAACQ,OAAO,IAAI,uBAAuB,CAAC;IACnE;EACF,CAAC,CAAC,OAAOC,KAAK,EAAE;IACdC,OAAO,CAACD,KAAK,CACX,sBAAsB,EACtBA,KAAK,CAACrB,QAAQ,GAAGqB,KAAK,CAACrB,QAAQ,CAACY,IAAI,GAAGS,KAAK,CAACD,OAC/C,CAAC;IACD,MAAMC,KAAK,CAACrB,QAAQ,GAAGqB,KAAK,CAACrB,QAAQ,CAACY,IAAI,GAAGS,KAAK;EACpD;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module"}